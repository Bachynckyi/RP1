"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[155],{5021:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});var r=n(7762),c=n(3433),i=n(9439),a=n(9434),o=n(2791),s=n(9325),l=n(220),u=n(1831),f=n(128),d=n(7689),p=n(5413),y=n(8383),h={product_container:"ProductPage_product_container__A1Dds",filter_container:"ProductPage_filter_container__ypU74",filters:"ProductPage_filters__bktwK",button_sort:"ProductPage_button_sort__HTXBI",filter_name:"ProductPage_filter_name__Dh3Ee",down_allow:"ProductPage_down_allow__xX6Pw",sortByPrice_wrapper:"ProductPage_sortByPrice_wrapper__LTzL+",colorMenuActive:"ProductPage_colorMenuActive__TrEmU",colorMenu:"ProductPage_colorMenu__NZkEG",typeMenuActive:"ProductPage_typeMenuActive__r7E3U",typeMenu:"ProductPage_typeMenu__Mnj0X",button_cancel:"ProductPage_button_cancel__ixPl3"},_=n(7692),v=n(3329),g=function(){var t=(0,d.UO)(),e=(0,a.I0)(),n=(0,a.v9)(s.h),g=t.subcategory,x=(0,o.useState)({}),j=(0,i.Z)(x,2),b=j[0],m=j[1],Z=(0,o.useState)({}),P=(0,i.Z)(Z,2),k=P[0],N=P[1],w=(0,o.useState)({}),O=(0,i.Z)(w,2),S=O[0],M=O[1],C=(0,o.useState)(!1),A=(0,i.Z)(C,2),E=A[0],U=A[1],B=(0,d.s0)(),F=(0,d.UO)(),G=(0,o.useState)(!1),L=(0,i.Z)(G,2),T=L[0],X=L[1],D=(0,o.useState)(!1),I=(0,i.Z)(D,2),z=I[0],H=I[1],K=(0,o.useState)(!1),q=(0,i.Z)(K,2),J=q[0],Q=q[1],R=(0,o.useState)("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"),V=(0,i.Z)(R,2),W=V[0],Y=V[1],$=(0,o.useState)([]),tt=(0,i.Z)($,2),et=tt[0],nt=tt[1],rt=(0,o.useState)([]),ct=(0,i.Z)(rt,2),it=ct[0],at=ct[1],ot=(0,o.useState)([]),st=(0,i.Z)(ot,2),lt=st[0],ut=st[1],ft=(0,o.useState)([]),dt=(0,i.Z)(ft,2),pt=dt[0],yt=dt[1];(0,o.useEffect)((function(){if(void 0!==F.id)try{e((0,l.gk)(F.id)).then((function(e){m(e.payload.data[0]),U(!0),B("/catalog/".concat(t.category,"/").concat(t.subcategory,"/").concat(F.id))}))}catch(n){console.log(n)}else if(void 0===g)try{e((0,l.uP)(F.category)).then((function(t){var e=t.payload.data.map((function(t){return t.color})),n=e.filter((function(t,n){return e.indexOf(t)===n}));ut(n);var r=t.payload.data.map((function(t){return t.type})),i=r.filter((function(t,e){return r.indexOf(t)===e}));yt(i);var a=t.payload.data.filter((function(t){return!0===t.active}));N(a);var o=(0,c.Z)(a).sort((function(t,e){return t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")-e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")}));M(o)}))}catch(n){console.log(n)}else try{e((0,l.uP)(g)).then((function(t){var e=t.payload.data.map((function(t){return t.color})),n=e.filter((function(t,n){return e.indexOf(t)===n}));ut(n);var r=t.payload.data.map((function(t){return t.type})),i=r.filter((function(t,e){return r.indexOf(t)===e}));yt(i);var a=t.payload.data.filter((function(t){return!0===t.active}));N(a);var o=(0,c.Z)(a).sort((function(t,e){return t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")-e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")}));M(o)}))}catch(n){console.log(n)}}),[e,g]),(0,o.useEffect)((function(){if(0!==Object.keys(k).length)if(0===et.length&&0===it.length){var t=(0,c.Z)(k).sort((function(t,e){return t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")-e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")}));M(t)}else if(0===et.length&&it.length>0){var e,n=[],i=(0,r.Z)(it);try{var a=function(){var t=e.value,r=k.filter((function(e){return e.type===t}));n.push.apply(n,(0,c.Z)(r))};for(i.s();!(e=i.n()).done;)a()}catch(Z){i.e(Z)}finally{i.f()}if("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"!==W){if("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"===W){var o=[].concat(n).sort((function(t,e){return t.price-e.price}));M(o)}else if("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"===W){var s=[].concat(n).sort((function(t,e){return e.price-t.price}));M(s)}}else M(n)}else if(0===it.length&&et.length>0){var l,u=[],f=(0,r.Z)(et);try{var d=function(){var t=l.value,e=k.filter((function(e){return e.color===t}));u.push.apply(u,(0,c.Z)(e))};for(f.s();!(l=f.n()).done;)d()}catch(Z){f.e(Z)}finally{f.f()}if("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"!==W){if("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"===W){var p=[].concat(u).sort((function(t,e){return t.price-e.price}));M(p)}else if("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"===W){var y=[].concat(u).sort((function(t,e){return e.price-t.price}));M(y)}}else M(u)}else if(it.length>0&&et.length>0){var h,_=[],v=(0,r.Z)(et);try{var g=function(){var t=h.value,e=k.filter((function(e){return e.color===t}));_.push.apply(_,(0,c.Z)(e))};for(v.s();!(h=v.n()).done;)g()}catch(Z){v.e(Z)}finally{v.f()}var x,j=[],b=(0,r.Z)(it);try{var m=function(){var t=x.value,e=_.filter((function(e){return e.type===t}));if(j.push.apply(j,(0,c.Z)(e)),"\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"!==W){if("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"===W){var n=[].concat(j).sort((function(t,e){return t.price-e.price}));M(n)}else if("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"===W){var r=[].concat(j).sort((function(t,e){return e.price-t.price}));M(r)}}else M(j)};for(b.s();!(x=b.n()).done;)m()}catch(Z){b.e(Z)}finally{b.f()}}}),[et,it]);var ht=function(t){var e=t.target.value;if(et.includes(e)){var n=et.filter((function(t){return t!==e}));nt(n)}else 0===et.length?nt([e]):nt([].concat((0,c.Z)(et),[e]))},_t=function(t){var e=t.target.value;if(it.includes(e)){var n=it.filter((function(t){return t!==e}));at(n)}else 0===it.length?at([e]):at([].concat((0,c.Z)(it),[e]))};return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:h.container,children:!0===n?(0,v.jsx)(u.Z,{}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:h.product_container,children:[0!==Object.keys(S).length&&(0,v.jsxs)("div",{className:h.filter_container,children:[(0,v.jsxs)("div",{className:h.filters,children:[(0,v.jsx)("p",{className:h.filter_name,children:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0430 \u0446\u0456\u043d\u043e\u044e:"}),(0,v.jsxs)("button",{type:"button",onClick:function(){X(!T)},className:h.button_sort,children:[(0,v.jsx)("span",{className:h.defaultName,children:W}),(0,v.jsx)(_.G_S,{className:h.down_allow})]}),T&&(0,v.jsxs)("div",{className:h.sortByPrice_wrapper,children:["\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"!==W&&(0,v.jsx)("button",{type:"button",onClick:function(){var t=(0,c.Z)(S).sort((function(t,e){return t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")-e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")}));M(t),Y("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"),X(!1)},children:"\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"}),"\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"!==W&&(0,v.jsx)("button",{type:"button",onClick:function(){var t=(0,c.Z)(S).sort((function(t,e){return t.price-e.price}));M(t),Y("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"),X(!1)},children:"\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"}),"\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"!==W&&(0,v.jsx)("button",{type:"button",onClick:function(){var t=(0,c.Z)(S).sort((function(t,e){return e.price-t.price}));M(t),Y("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"),X(!1)},children:"\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"})]})]}),(0,v.jsxs)("div",{className:h.filters,children:[(0,v.jsx)("p",{className:h.filter_name,children:"\u041e\u0431\u0440\u0430\u0442\u0438 \u043a\u043e\u043b\u0456\u0440:"}),(0,v.jsxs)("button",{type:"button",className:h.button_sort,onClick:function(){H(!z)},children:[(0,v.jsx)("span",{children:"\u0412\u0441\u0456 \u043a\u043e\u043b\u044c\u043e\u0440\u0438"}),(0,v.jsx)(_.G_S,{className:h.down_allow})]}),(0,v.jsx)("div",{className:z?h.colorMenuActive:h.colorMenu,children:(0,v.jsx)("ul",{children:lt.map((function(t){return(0,v.jsxs)("li",{children:[(0,v.jsx)("input",{type:"checkbox",value:t,name:t,id:t,onChange:ht,checked:et.includes(t)}),(0,v.jsx)("label",{htmlFor:t,children:t})]},t)}))})})]}),(0,v.jsxs)("div",{className:h.filters,children:[(0,v.jsx)("p",{className:h.filter_name,children:"\u041e\u0431\u0440\u0430\u0442\u0438 \u0444\u0430\u0441\u0443\u0432\u0430\u043d\u043d\u044f:"}),(0,v.jsxs)("button",{type:"button",className:h.button_sort,onClick:function(){Q(!J)},children:[(0,v.jsx)("span",{children:"\u0412\u0441\u0456 \u0444\u0430\u0441\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,v.jsx)(_.G_S,{className:h.down_allow})]}),(0,v.jsx)("div",{className:J?h.typeMenuActive:h.typeMenu,children:(0,v.jsx)("ul",{children:pt.map((function(t){return(0,v.jsxs)("li",{children:[(0,v.jsx)("input",{type:"checkbox",value:t,name:t,id:t,onChange:_t,checked:it.includes(t)}),(0,v.jsx)("label",{htmlFor:t,children:t})]},t)}))})})]}),(0,v.jsx)("button",{type:"button",className:h.button_cancel,onClick:function(){var t=(0,c.Z)(k).sort((function(t,e){return t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")-e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")}));M(t),Y("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"),X(!1),nt([]),H(!1),at([]),Q(!1)},children:"C\u043a\u0438\u043d\u0443\u0442\u0438 \u0432\u0441\u0456 \u0444\u0456\u043b\u044c\u0442\u0440\u0430"})]}),0!==Object.keys(S).length?(0,v.jsx)(f.Z,{productList:S,fetchProduct:function(e){m(e),U(!0),void 0===t.subcategory?B("/catalog/".concat(t.category,"/").concat(t.category,"/").concat(e._id)):B("/catalog/".concat(t.category,"/").concat(t.subcategory,"/").concat(e._id))}}):(0,v.jsx)("p",{})]}),(0,v.jsx)(p.Z,{modalActive:E,setModalActive:U,product:b}),(0,v.jsx)(y.Z,{})]})})})}},9325:function(t,e,n){n.d(e,{h:function(){return r}});var r=function(t){return t.product.loading}}}]);
//# sourceMappingURL=155.380e4b41.chunk.js.map