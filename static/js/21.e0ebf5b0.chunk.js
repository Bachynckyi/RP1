"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[21],{8383:function(e,t,n){n.d(t,{Z:function(){return i}});var c="Footer_container__iICw7",o=n(3329),i=function(){return(0,o.jsx)("div",{className:c})}},9938:function(e,t,n){n.d(t,{Z:function(){return r}});var c=n(4691),o="Loader_loader__DwtSp",i=n(3329),r=function(){return(0,i.jsx)("div",{className:o,children:(0,i.jsx)(c.s5,{strokeColor:"orange",strokeWidth:"5",animationDuration:"1.5",width:"96",visible:!0})})}},5413:function(e,t,n){n.d(t,{Z:function(){return y}});var c=n(3433),o=n(9439),i=n(2791),r="Modal_modal__yEgVW",a="Modal_modal_active__nM+Ac",s="Modal_modal_content__8KQIg",l="Modal_modal_content_active__Vlx6f",d="Modal_photo__KCzk3",u="Modal_title__KuCmT",_="Modal_description__i76KN",m=n(4942),h=n(1413),p="ModalOneClick_modal__VLShz",f="ModalOneClick_modal_active__PW-Rn",v="ModalOneClick_modal_content__ktqNb",x="ModalOneClick_modal_content_active__Rbih3",j="ModalOneClick_form__+TqbX",k=n(4659),g=n(9434),b=n(3329),C=function(e){var t=e.activeModalOneClick,n=e.setModalOneClickActive,c=e.closeModal,r=e.order,a=(0,g.I0)(),s=r.title,l=r.price,d=r.type,u=r.color,_=r.code,C={customerName:"",customerPhone:""},N=(0,i.useState)({}),y=(0,o.Z)(N,2),Z=y[0],S=y[1],M=(0,i.useState)((0,h.Z)({},C)),w=(0,o.Z)(M,2),P=w[0],O=w[1],I=P.customerName,L=P.customerPhone,E=(new Date).toLocaleString();(0,i.useEffect)((function(){var e=String(r.quantity);S({title:s,price:l,type:d,color:u,code:_,quantity:e,customerName:I,customerPhone:L,date:E});var t=function(e){"Escape"===e.code&&q()};return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}),[t,I,L]);var q=function(){n(!1),O((0,h.Z)({},C))},D=(0,i.useCallback)((function(e){var t=e.target,n=t.name,c=t.value;O((function(e){return(0,h.Z)((0,h.Z)({},e),{},(0,m.Z)({},n,c))}))}),[O]);return(0,b.jsx)("div",{className:t?f:p,onClick:q,children:(0,b.jsxs)("div",{className:t?x:v,onClick:function(e){return e.stopPropagation()},children:[(0,b.jsxs)("form",{className:j,children:[(0,b.jsxs)("label",{children:["\u0406\u043c'\u044f",(0,b.jsx)("input",{required:!0,name:"customerName",onChange:D,value:I})]}),(0,b.jsxs)("label",{children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d",(0,b.jsx)("input",{required:!0,name:"customerPhone",onChange:D,value:L})]}),(0,b.jsx)("button",{type:"button",onClick:function(){a((0,k.S)(Z)),n(!1),S({}),O((0,h.Z)({},C)),c()},children:"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})]}),(0,b.jsx)("button",{type:"button",onClick:q,children:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c"})]})})},N=n(8185),y=function(e){var t=e.modalActive,n=e.setModalActive,m=e.product,h=m.title,p=m.photo,f=m.price,v=m.type,x=m.color,j=m.code,k=m.description,g=m._id,y=(0,i.useState)({}),Z=(0,o.Z)(y,2),S=Z[0],M=Z[1],w=(0,i.useState)("1"),P=(0,o.Z)(w,2),O=P[0],I=P[1],L=(0,i.useState)(!1),E=(0,o.Z)(L,2),q=E[0],D=E[1];(0,i.useEffect)((function(){M({title:h,price:f,code:j,color:x,type:v,quantity:O,_id:g,photo:p});var e=function(e){"Escape"===e.code&&J()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t,O]);var A=function(e){if("increment"===e.target.name)I(""===O?"1":String(Number(O)+1));else if("decrement"===e.target.name)O>0&&I(String(Number(O)-1));else if("quantity"===e.target.name){var t=e.target.value.replace(/\D+/g,"");I(0===t?"":String(t))}},J=function(){n(!1),M({}),I(1)};return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:t?a:r,onClick:J,children:(0,b.jsxs)("div",{className:t?l:s,onClick:function(e){return e.stopPropagation()},children:[(0,b.jsx)("h1",{className:u,children:h}),(0,b.jsxs)("div",{children:[(0,b.jsx)("img",{className:d,src:p,alt:h}),(0,b.jsxs)("p",{children:["\u0426\u0456\u043d\u0430: ",f," \u0433\u0440\u043d"]}),(0,b.jsxs)("p",{children:["\u0424\u0430\u0441\u043e\u0432\u043a\u0430: ",v]}),(0,b.jsxs)("p",{children:["\u041a\u043e\u043b\u0456\u0440: ",x]}),(0,b.jsxs)("p",{children:["\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0443: ",j]})]}),(0,b.jsxs)("p",{className:_,children:["\u041e\u043f\u0438\u0441: ",k]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("button",{type:"button",onClick:A,name:"decrement",children:"-"}),(0,b.jsx)("input",{value:O,name:"quantity",onChange:A,type:"text"}),(0,b.jsx)("button",{type:"button",onClick:A,name:"increment",children:"+"})]}),(0,b.jsx)("button",{type:"button",onClick:J,children:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c"}),(0,b.jsx)("button",{type:"button",onClick:function(){D(!0)},children:"\u0417\u0430\u043a\u0430\u0437 \u0432 1 \u043a\u043b\u0438\u043a"}),(0,b.jsx)("button",{onClick:function(){var e=localStorage.getItem("order")||"[]",t=JSON.parse(e);t.map((function(e){return e._id})).includes(g)?console.log("\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435"):localStorage.setItem("order",JSON.stringify([].concat((0,c.Z)(t),[S])))},type:"button",children:(0,b.jsx)(N.DJ8,{})})]})}),(0,b.jsx)(C,{activeModalOneClick:q,setModalOneClickActive:D,order:S,closeModal:J})]})}},984:function(e,t,n){n.d(t,{Z:function(){return h}});var c=n(9439),o="Search_container__FpDfx",i="Search_basketIcon__RNH1g",r="Search_input__klILD",a="Search_button__W5MQY",s=n(7689),l=n(1087),d=n(2791),u=n(8185);var _=n.p+"static/media/search.41d49a9ae2e0cf1b87a3b9eb48d223c9.svg",m=n(3329),h=function(){var e=(0,s.s0)(),t=(0,d.useState)(""),n=(0,c.Z)(t,2),h=n[0],p=n[1];return(0,m.jsxs)("div",{className:o,children:[(0,m.jsxs)("div",{className:o,children:[(0,m.jsx)("input",{className:r,value:h,onChange:function(e){p(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043f\u043e\u0448\u0443\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0442"}),(0,m.jsx)("button",{type:"button",onClick:function(){e("/products?search=".concat(h))},className:a,children:(0,m.jsx)("img",{src:_,alt:"iconSearch"})})]}),(0,m.jsx)(l.OL,{to:"/order",children:(0,m.jsx)(u.DJ8,{className:i})})]})}},128:function(e,t,n){n.d(t,{Z:function(){return _}});var c=n(1413),o=n(4925),i="ProductItem_catalog_link__Be+UF",r="ProductItem_image_link__dTbox",a="ProductItem_image_title__nSwSB",s=n(3329),l=function(e){var t=e.photo,n=e.title,c=e.description,o=e.price,l=e.type,d=e.color,u=e.code,_=e._id,m=e.pickedProduct,h={photo:t,title:n,description:c,price:o,type:l,color:d,code:u,_id:_};return(0,s.jsxs)("li",{className:i,onClick:function(){m(h)},children:[(0,s.jsx)("img",{className:r,src:t,alt:n}),(0,s.jsx)("p",{className:a,children:n})]})},d="ProductList_catalog_list__OirNz",u=["_id"],_=function(e){var t=e.productList,n=e.fetchProduct,i=function(e){n(e)},r=t.map((function(e){var t=e._id,n=(0,o.Z)(e,u);return(0,s.jsx)(l,(0,c.Z)((0,c.Z)({},n),{},{_id:t,pickedProduct:i}),t)}));return(0,s.jsx)("div",{children:(0,s.jsx)("ul",{className:d,children:r})})}},5021:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var c=n(9439),o=n(9434),i=n(2791),r=n(9325),a=n(220),s=n(9938),l=n(128),d=n(7689),u=n(5413),_=n(984),m=n(8383),h="ProductPage_container__XJoIM",p="ProductPage_product_container__A1Dds",f=n(3329),v=function(){var e=(0,d.UO)(),t=(0,o.I0)(),n=(0,o.v9)(r.h),v=e.category,x=(0,i.useState)({}),j=(0,c.Z)(x,2),k=j[0],g=j[1],b=(0,i.useState)({}),C=(0,c.Z)(b,2),N=C[0],y=C[1],Z=(0,i.useState)(!1),S=(0,c.Z)(Z,2),M=S[0],w=S[1];(0,i.useEffect)((function(){try{t((0,a.uP)(v)).then((function(e){return y(e.payload.data)}))}catch(e){console.log(e)}}),[t,v]);return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:h,children:(0,f.jsx)(_.Z,{})}),n?(0,f.jsx)(s.Z,{}):(0,f.jsx)("div",{className:p,children:0!==Object.keys(N).length?(0,f.jsx)(l.Z,{productList:N,fetchProduct:function(e){g(e),w(!0)}}):(0,f.jsx)("p",{})}),(0,f.jsx)(u.Z,{modalActive:M,setModalActive:w,product:k}),(0,f.jsx)(m.Z,{})]})}},9325:function(e,t,n){n.d(t,{h:function(){return c}});var c=function(e){return e.product.loading}}}]);
//# sourceMappingURL=21.e0ebf5b0.chunk.js.map