{"version":3,"file":"static/js/603.b86351dd.chunk.js","mappings":"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","sources":["pages/BasketPage/BasketItem/BasketItem.jsx","pages/BasketPage/BasketList/BasketList.jsx","pages/BasketPage/BasketPage.jsx","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst BasketItem = ({product, updateOrder, _id}) => {\n  const {title, photo, price, type, color, code, quantity} = product;\n  const [quantityOfItem, setQuantityOfItem] = useState({});\n  const amount = price * quantityOfItem;\n\n  useEffect(() => {\n    setQuantityOfItem(quantity);\n  }, [quantity]);\n\n  \n  const handleChange = (event) => {\n    if(event.target.name === \"increment\"){\n        if(quantityOfItem === \"\"){\n          setQuantityOfItem(\"1\")\n        }\n        else {\n          setQuantityOfItem(String(Number(quantityOfItem) + 1))\n        }\n    }\n    else if(event.target.name === \"decrement\"){\n        if(quantityOfItem > 0){\n          setQuantityOfItem(String(Number(quantityOfItem) - 1));\n        };\n    }\n    else if(event.target.name === \"quantity\"){\n      const value = event.target.value.replace(/\\D+/g, '');\n        if(value === 0){\n          setQuantityOfItem(\"\");\n        }\n        else {\n          setQuantityOfItem(String(value));\n        }\n    };\n  };\n\n  const deleteItemFromBasket = () => {\n    const order = JSON.parse(localStorage.getItem(\"order\"));\n    const updatedOrder = order.filter(order => order._id !== _id);\n    updateOrder(updatedOrder)\n  };\n\n    return (\n        <li>\n          <h1>{title}</h1>\n          <img \n              src={photo}\n              alt={title}\n          />\n          <p>Ціна: {price} грн</p>\n          <p>Фасовка: {type}</p>\n          <p>Колір: {color}</p>\n          <p>Код товару: {code}</p>\n          <div>\n              <button type=\"button\" onClick={handleChange} name=\"decrement\">-</button>\n              <input\n                  value={quantityOfItem}\n                  name=\"quantity\"\n                  onChange={handleChange}\n                  type='text'\n                  />\n              <button type=\"button\" onClick={handleChange} name='increment'>+</button>\n          </div>\n          <button onClick={deleteItemFromBasket}>Видалити з кошика</button>\n          <p>Сумма: {amount} грн</p>\n        </li>\n    );\n  };\n  \nexport default BasketItem;\n\n\n","import { useEffect, useState } from 'react';\nimport BasketItem from '../BasketItem/BasketItem';\n\nconst BasketList = ({basket, newOrder}) => {\n    const [totalAmount,setTotalAmount] = useState({});\n\n    useEffect(() => {\n        setTotalAmount(basket.reduce((prev, curr) => { return Number(prev) + Number(curr.price)*curr.quantity}, \"\"))\n    }, [basket])\n\n    const updateOrder = (updatedOrder) => {\n        newOrder(updatedOrder)\n    };\n\n    const elements = basket.map(({ _id, ...product }) => {\n        return (\n            <BasketItem key={_id} product={product} _id={_id} updateOrder={updateOrder}/>\n        );\n    });\n\n    return (\n        <div>\n            <h2>Товари до замовлення</h2>\n            <ol>{elements}</ol>\n            <p>Сума до сплати: {JSON.stringify(totalAmount)} грн</p>\n            <button>Оформити замовлення</button>\n        </div>\n    );\n};\n\nexport default BasketList;","// import scss from './BasketPage.module.scss';\nimport { isLogin } from 'redux/auth/auth-selectors';\nimport { useSelector} from 'react-redux';\nimport { useEffect, useState } from 'react';\nimport BasketList from './BasketList/BasketList';\n\nconst BasketPage = () => {\n    const isUserLogin = useSelector(isLogin);\n    const [basket, setBasket] = useState({});\n\n    useEffect(() => {\n      if(isUserLogin === false){\n        const order = JSON.parse(localStorage.getItem(\"order\"));\n        if(order !== null) {\n        setBasket(order)\n        }\n      }\n    // eslint-disable-next-line\n    }, [])\n\n    const newOrder = (updatedOrder) => {\n      setBasket(updatedOrder);\n      localStorage.setItem(\"order\", JSON.stringify(updatedOrder))\n    };\n\n    return (\n        <div>\n            {Object.keys(basket).length !== 0 ?\n              (<BasketList basket={basket} newOrder={newOrder}/>)\n            : \n              (<p>Нічого немає в кошику</p>)}\n        </div>\n    )\n  };\n  \nexport default BasketPage;\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"names":["product","updateOrder","_id","title","photo","price","type","color","code","quantity","useState","quantityOfItem","setQuantityOfItem","amount","useEffect","handleChange","event","target","name","String","Number","value","replace","src","alt","onClick","onChange","updatedOrder","JSON","parse","localStorage","getItem","filter","order","basket","newOrder","totalAmount","setTotalAmount","reduce","prev","curr","elements","map","stringify","isUserLogin","useSelector","isLogin","setBasket","Object","keys","length","setItem","_objectWithoutProperties","source","excluded","key","i","sourceKeys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call"],"sourceRoot":""}