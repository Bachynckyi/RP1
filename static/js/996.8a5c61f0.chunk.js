"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[996],{9400:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(1413),a=r(4925),o=r(3329),c=function(e){var t=e.nameCategory,r=e.routeCategory,n=e.pickCategory;return(0,o.jsxs)("li",{children:[(0,o.jsx)("input",{type:"radio",id:r,name:"category",value:t,onChange:function(e){var t=e.target.value;n(t)},required:!0}),(0,o.jsx)("label",{htmlFor:r,children:t})]})},u=["_id"],i=function(e){var t=e.categories,r=e.fetchCategory,i=function(e){r(e)},l=t.map((function(e){var t=e._id,r=(0,a.Z)(e,u);return(0,o.jsx)(c,(0,n.Z)((0,n.Z)({},r),{},{_id:t,pickCategory:i}),t)}));return(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:"\u041e\u0431\u0440\u0430\u0442\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e \u0442\u043e\u0432\u0430\u0440\u0443"}),(0,o.jsx)("ol",{children:l})]})}},9938:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(4691),a="Loader_loader__DwtSp",o=r(3329),c=function(){return(0,o.jsx)("div",{className:a,children:(0,o.jsx)(n.s5,{strokeColor:"orange",strokeWidth:"5",animationDuration:"1.5",width:"96",visible:!0})})}},8996:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var n=r(4942),a=r(5861),o=r(1413),c=r(9439),u=r(7757),i=r.n(u),l={container:"AddProductForm_container__ZMqFD",product_form:"AddProductForm_product_form__Mo-TC",label_input:"AddProductForm_label_input__Z0CRD",product_picture:"AddProductForm_product_picture__q+XIz",title_picture:"AddProductForm_title_picture__Mwg4G"},s=r(2791),d=r(4118),p=r(196),A=r(9434),h=r(9869),f=r(220),g=r(9400),m=r(9104),j=r(9938),x=r(4930),b=r(4925),v=r(3329),y=function(e){var t=e.nameSubcategory,r=e.routeSubcategory,n=e.pickSubcategory;return(0,v.jsxs)("li",{children:[(0,v.jsx)("input",{type:"radio",id:r,name:"subcategory",value:t,onChange:function(e){var t=e.target.value;n(t)}}),(0,v.jsx)("label",{htmlFor:r,children:t})]})},_=["_id"],C=function(e){var t=e.subCategories,r=e.fetchSubcategory,n=function(e){r(e)},a=t.map((function(e){var t=e._id,r=(0,b.Z)(e,_);return(0,v.jsx)(y,(0,o.Z)((0,o.Z)({},r),{},{_id:t,pickSubcategory:n}),t)}));return(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{children:"\u041e\u0431\u0440\u0430\u0442\u0438 \u043f\u0456\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e \u0442\u043e\u0432\u0430\u0440\u0443"}),(0,v.jsx)("ol",{children:a})]})},N={title:"",description:"",category:"",price:"",type:"",color:"",photo:"",code:"",subcategory:""},w=function(){var e=(0,A.I0)(),t=(0,A.v9)(h.kE),r=(0,s.useState)((0,o.Z)({},N)),u=(0,c.Z)(r,2),b=u[0],y=u[1],_=b.title,w=b.description,Z=b.price,k=b.color,q=b.type,D=b.photo,B=b.category,Q=b.code,P=b.subcategory,S=(0,s.useState)(null),F=(0,c.Z)(S,2),M=F[0],G=F[1],E=(0,s.useState)(null),O=(0,c.Z)(E,2),U=O[0],I=O[1],J=(0,A.v9)(m.h);(0,s.useEffect)((function(){try{e((0,p.t)()).then((function(e){return G(e.payload.data)})),e((0,x.X)()).then((function(e){return I(e.payload.data)}))}catch(t){console.log(t)}}),[e]);var R=(0,s.useCallback)((function(e){var t=e.target,r=t.name,a=t.value;y("photo"===r?function(e){return(0,o.Z)((0,o.Z)({},e),{},{photo:t.files[0]})}:function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,n.Z)({},r,a))})}),[y]);return(0,v.jsx)(v.Fragment,{children:J?(0,v.jsx)(j.Z,{}):(0,v.jsx)("div",{className:l.container,children:(0,v.jsxs)("form",{className:l.product_form,onSubmit:function(r){r.preventDefault();var n=new FormData;n.append("photo",D),n.append("title",_),n.append("type",q),n.append("color",k),n.append("price",Z),n.append("description",w),n.append("category",B),n.append("code",Q),null!==P&&n.append("subcategory",P);var o=n,c=function(){var t=(0,a.Z)(i().mark((function t(r){var n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.token,a=r.data;try{e((0,f.g)({token:n,data:a}))}catch(o){console.log(o)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();c({token:t,data:o}),y(N)},children:[(0,v.jsxs)("div",{children:[D?(0,v.jsx)("img",{src:URL.createObjectURL(D),alt:"productPhoto",className:l.product_picture}):(0,v.jsx)("img",{src:d,alt:"defaultPicture",className:l.product_picture}),(0,v.jsx)("p",{className:l.title_picture,children:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u044f \u0442\u043e\u0432\u0430\u0440\u0443"}),(0,v.jsx)("input",{type:"file",name:"photo",required:!0,accept:"image/png, image/jpeg",onChange:R})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("label",{className:l.label_input,children:["\u041d\u0430\u0437\u0432\u0430 \u0442\u043e\u0432\u0430\u0440\u0443",(0,v.jsx)("input",{className:l.input,name:"title",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0442\u043e\u0432\u0430\u0440\u0443",required:!0,value:_,onChange:R})]}),(0,v.jsxs)("label",{children:["\u041e\u043f\u0438\u0441",(0,v.jsx)("textarea",{className:l.label_input,name:"description",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043e\u043f\u0438\u0441",rows:"20",cols:"70",required:!0,value:w,onChange:R})]}),(0,v.jsxs)("label",{className:l.label_input,children:["\u0424\u0430\u0441\u043e\u0432\u043a\u0430",(0,v.jsx)("input",{className:l.input,name:"type",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0444\u0430\u0441\u043e\u0432\u043a\u0443",required:!0,value:q,onChange:R})]}),(0,v.jsxs)("label",{className:l.label_input,children:["\u041a\u043e\u043b\u0456\u0440",(0,v.jsx)("input",{className:l.input,name:"color",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u043b\u0456\u0440",required:!0,value:k,onChange:R})]}),(0,v.jsxs)("label",{className:l.label_input,children:["\u0426\u0456\u043d\u0430",(0,v.jsx)("input",{className:l.input,name:"price",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0446\u0456\u043d\u0443",required:!0,value:Z,onChange:R})]}),(0,v.jsxs)("label",{className:l.label_input,children:["\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0443",(0,v.jsx)("input",{className:l.input,name:"code",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0443",required:!0,value:Q,onChange:R})]})]}),null!==M&&(0,v.jsx)(g.Z,{categories:M,fetchCategory:function(e){y((function(t){return(0,o.Z)((0,o.Z)({},t),{},{category:e})}))}}),null!==U&&(0,v.jsx)(C,{subCategories:U,fetchSubcategory:function(e){y((function(t){return(0,o.Z)((0,o.Z)({},t),{},{subcategory:e})}))}}),(0,v.jsx)("button",{type:"submit",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u043e\u0432\u0430\u0440"})]})})})},Z=function(e){return e.product.loading},k="AddProductPage_container__IuA4V",q="AddProductPage_title__NkUw-",D=function(){var e=(0,A.v9)(Z);return(0,v.jsxs)("div",{className:k,children:[(0,v.jsx)("h1",{className:q,children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u043e\u0432\u0430\u0440"}),e?(0,v.jsx)(j.Z,{}):(0,v.jsx)(w,{})]})}},9104:function(e,t,r){r.d(t,{h:function(){return n}});var n=function(e){return e.category.loading}},4118:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAADCCAMAAAB6zFdcAAAAYFBMVEXDw8MAAABwcHDHx8eKioqkpKS8vLzGxsatra3KysqQkJCenp6AgIB3d3dra2u3t7dZWVlMTEyysrIsLCxTU1NDQ0OUlJQhISEyMjJlZWUMDAw9PT2Dg4N0dHQYGBhGRkaaAXj3AAACVklEQVR4nO3a63KiQBBAYbATxxYQbxtNdjd5/7dMIFwEGbaA1Fo05/tpNFVzZJgBCQIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICFEdFJROTRQ5jKxbvVRLF79CCmkW043XbeEeTpBxo8zXs2ZA2i9RSRiQbPUw5l90wDUw2cqIyIYamBHpP9Lho+GEMNNM7P8IfB/8BOg2qbcNaB/8BQg2qt3ww8J5hpkA2kkAwcj50GUdVgN3AymGkQpPW+1zMXfFeHdhror7LBuvt9GsXHzpHaaVAdCC/dw9FddnnYNU0MNXDp4WuUp6j7bCAv3jXDUIPAabo5eia9K46SS9ffDDX44nxbA7kWM2V/f5gYa+CTnwyKVeMuwjIaSL15CMNj+72LaODWt7fNTotsUG8dcq+t2bCEBpq0bqC2dhA2G4ho/cLN1VT3TtJkA00u57R8xQVvdw2ujdlgsYGusnGWEfRwl6B1aWmwQbEQ/v4elf7pSBCGt7cdDTYoF8K/2XftNp0JGqcEew3qhTD7rt27p8FHPRvMNbhZCN/Wge49CcIwqSJYa9BYCD+07yfpxmcsNQgax/6qJ0H4Xn7EWAM99426pfwhwlYDz0LoU1xGm2rgXQh9vu+smWoQXAY2uJhr0LMQ+uR31gw1GPVs1lZMNUj/PeIOqaUGchrV4Cp2GujrqATZZbSVBr274n5bNdJANuOJjQY8ozl6GtRm3sD9yDPb824QuHjqo/ureOYJ8p8TZKJHDwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOB/+wQBph2Iu8J1cQAAAABJRU5ErkJggg=="},4925:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=996.8a5c61f0.chunk.js.map