"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[149,155],{5021:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var c=n(7762),r=n(3433),a=n(9439),i=n(9434),o=n(2791),s=n(9325),l=n(220),u=n(9927),d=n(128),f=n(7689),_=n(5413),p=n(8383),m={product_container:"ProductPage_product_container__A1Dds",filter_container:"ProductPage_filter_container__ypU74",filters:"ProductPage_filters__bktwK",button_sort:"ProductPage_button_sort__HTXBI",filter_name:"ProductPage_filter_name__Dh3Ee",down_allow:"ProductPage_down_allow__xX6Pw",colorMenuActive:"ProductPage_colorMenuActive__TrEmU",menu_list:"ProductPage_menu_list__W+MVo",radio_button:"ProductPage_radio_button__TvCqS",custom_button:"ProductPage_custom_button__xAz+k",item_color:"ProductPage_item_color__ZyZOI",subtitle:"ProductPage_subtitle__yZMsl",colorMenu:"ProductPage_colorMenu__NZkEG",typeMenuActive:"ProductPage_typeMenuActive__r7E3U",typeMenu:"ProductPage_typeMenu__Mnj0X",button_cancel:"ProductPage_button_cancel__ixPl3",priceMenuActive:"ProductPage_priceMenuActive__UMbmo",priceMenu:"ProductPage_priceMenu__vbogn",icon_filter:"ProductPage_icon_filter__riGBd"},g=n(7692),h=n(458),v=n(3329),y=function(){var e=(0,f.UO)(),t=(0,i.I0)(),n=(0,i.v9)(s.h),y=e.subcategory,x=(0,o.useState)({}),b=(0,a.Z)(x,2),j=b[0],N=b[1],Z=(0,o.useState)({}),P=(0,a.Z)(Z,2),k=P[0],S=P[1],M=(0,o.useState)({}),O=(0,a.Z)(M,2),w=O[0],C=O[1],A=(0,o.useState)(!1),E=(0,a.Z)(A,2),I=E[0],F=E[1],D=(0,f.s0)(),U=(0,f.UO)(),G=(0,o.useState)(!1),L=(0,a.Z)(G,2),X=L[0],T=L[1],B=(0,o.useState)(!1),V=(0,a.Z)(B,2),W=V[0],q=V[1],z=(0,o.useState)(!1),H=(0,a.Z)(z,2),K=H[0],Q=H[1],R=(0,o.useState)("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"),J=(0,a.Z)(R,2),Y=J[0],$=J[1],ee=(0,o.useState)([]),te=(0,a.Z)(ee,2),ne=te[0],ce=te[1],re=(0,o.useState)([]),ae=(0,a.Z)(re,2),ie=ae[0],oe=ae[1],se=(0,o.useState)([]),le=(0,a.Z)(se,2),ue=le[0],de=le[1],fe=(0,o.useState)([]),_e=(0,a.Z)(fe,2),pe=_e[0],me=_e[1],ge=(0,o.useRef)(null);!function(e,t){var n=function(n){e.current&&!e.current.contains(n.target)&&t()};(0,o.useEffect)((function(){return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}))}(ge,(function(){q(!1),Q(!1),T(!1)})),(0,o.useEffect)((function(){if(void 0!==U.id)try{t((0,l.gk)(U.id)).then((function(t){N(t.payload.data[0]),F(!0),D("/catalog/".concat(e.category,"/").concat(e.subcategory,"/").concat(U.id))}))}catch(n){console.log(n)}else if(void 0===y)try{t((0,l.uP)(U.category)).then((function(e){var t=e.payload.data.map((function(e){return e.color})),n=t.filter((function(e,n){return t.indexOf(e)===n}));de(n);var c=e.payload.data.map((function(e){return e.type})),a=c.filter((function(e,t){return c.indexOf(e)===t}));me(a);var i=e.payload.data.filter((function(e){return!0===e.active}));S(i);var o=(0,r.Z)(i).sort((function(e,t){return e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")-t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")}));C(o)}))}catch(n){console.log(n)}else try{t((0,l.uP)(y)).then((function(e){var t=e.payload.data.map((function(e){return e.color})),n=t.filter((function(e,n){return t.indexOf(e)===n}));de(n);var c=e.payload.data.map((function(e){return e.type})),a=c.filter((function(e,t){return c.indexOf(e)===t}));me(a);var i=e.payload.data.filter((function(e){return!0===e.active}));S(i);var o=(0,r.Z)(i).sort((function(e,t){return e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")-t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")}));C(o)}))}catch(n){console.log(n)}}),[t,y]),(0,o.useEffect)((function(){if(0!==Object.keys(k).length)if(0===ne.length&&0===ie.length){var e=(0,r.Z)(k).sort((function(e,t){return e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")-t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")}));C(e)}else if(0===ne.length&&ie.length>0){var t,n=[],a=(0,c.Z)(ie);try{var i=function(){var e=t.value,c=k.filter((function(t){return t.type===e}));n.push.apply(n,(0,r.Z)(c))};for(a.s();!(t=a.n()).done;)i()}catch(N){a.e(N)}finally{a.f()}if("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"!==Y){if("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"===Y){var o=[].concat(n).sort((function(e,t){return e.price-t.price}));C(o)}else if("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"===Y){var s=[].concat(n).sort((function(e,t){return t.price-e.price}));C(s)}}else C(n)}else if(0===ie.length&&ne.length>0){var l,u=[],d=(0,c.Z)(ne);try{var f=function(){var e=l.value,t=k.filter((function(t){return t.color===e}));u.push.apply(u,(0,r.Z)(t))};for(d.s();!(l=d.n()).done;)f()}catch(N){d.e(N)}finally{d.f()}if("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"!==Y){if("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"===Y){var _=[].concat(u).sort((function(e,t){return e.price-t.price}));C(_)}else if("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"===Y){var p=[].concat(u).sort((function(e,t){return t.price-e.price}));C(p)}}else C(u)}else if(ie.length>0&&ne.length>0){var m,g=[],h=(0,c.Z)(ne);try{var v=function(){var e=m.value,t=k.filter((function(t){return t.color===e}));g.push.apply(g,(0,r.Z)(t))};for(h.s();!(m=h.n()).done;)v()}catch(N){h.e(N)}finally{h.f()}var y,x=[],b=(0,c.Z)(ie);try{var j=function(){var e=y.value,t=g.filter((function(t){return t.type===e}));if(x.push.apply(x,(0,r.Z)(t)),"\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"!==Y){if("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"===Y){var n=[].concat(x).sort((function(e,t){return e.price-t.price}));C(n)}else if("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"===Y){var c=[].concat(x).sort((function(e,t){return t.price-e.price}));C(c)}}else C(x)};for(b.s();!(y=b.n()).done;)j()}catch(N){b.e(N)}finally{b.f()}}}),[ne,ie]);var he=function(e){var t=e.target.value;if("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"===t){var n=(0,r.Z)(w).sort((function(e,t){return e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")-t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")}));C(n),$("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c")}else if("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"===t){var c=(0,r.Z)(w).sort((function(e,t){return t.price-e.price}));C(c),$("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445")}else if("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"===t){var a=(0,r.Z)(w).sort((function(e,t){return e.price-t.price}));C(a),$("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445")}},ve=function(e){var t=e.target.value;if(ne.includes(t)){var n=ne.filter((function(e){return e!==t}));ce(n)}else 0===ne.length?ce([t]):ce([].concat((0,r.Z)(ne),[t]))},ye=function(e){var t=e.target.value;if(ie.includes(t)){var n=ie.filter((function(e){return e!==t}));oe(n)}else 0===ie.length?oe([t]):oe([].concat((0,r.Z)(ie),[t]))};return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:m.container,children:!0===n?(0,v.jsx)(u.Z,{}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:m.product_container,children:[0!==Object.keys(w).length&&(0,v.jsxs)("div",{className:m.filter_container,ref:ge,children:[(0,v.jsxs)("div",{className:m.filters,children:[(0,v.jsxs)("p",{className:m.filter_name,children:[(0,v.jsx)(h.wrD,{className:m.icon_filter}),"\u0437\u0430 \u0446\u0456\u043d\u043e\u044e:"]}),(0,v.jsx)("button",{type:"button",onClick:function(){T(!X),q(!1),Q(!1)},className:m.button_sort,children:(0,v.jsx)(g.G_S,{className:m.down_allow})}),X&&(0,v.jsx)("div",{className:X?m.priceMenuActive:m.priceMenu,children:(0,v.jsxs)("ul",{className:m.menu_list,children:[(0,v.jsxs)("li",{className:m.item_color,children:[(0,v.jsx)("input",{className:m.radio_button,type:"radio",value:"\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c",name:"\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c",id:"\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c",onChange:he,checked:Y.includes("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c")}),(0,v.jsx)("span",{className:m.custom_button}),(0,v.jsx)("label",{htmlFor:"\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c",className:m.subtitle,children:"\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"})]}),(0,v.jsxs)("li",{className:m.item_color,children:[(0,v.jsx)("input",{className:m.radio_button,type:"radio",value:"\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445",name:"\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445",id:"\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445",onChange:he,checked:Y.includes("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445")}),(0,v.jsx)("span",{className:m.custom_button}),(0,v.jsx)("label",{htmlFor:"\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445",className:m.subtitle,children:"\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"})]}),(0,v.jsxs)("li",{className:m.item_color,children:[(0,v.jsx)("input",{className:m.radio_button,type:"radio",value:"\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445",name:"\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445",id:"\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445",onChange:he,checked:Y.includes("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445")}),(0,v.jsx)("span",{className:m.custom_button}),(0,v.jsx)("label",{htmlFor:"\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445",className:m.subtitle,children:"\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"})]})]})})]}),(0,v.jsxs)("div",{className:m.filters,children:[(0,v.jsxs)("p",{className:m.filter_name,children:[(0,v.jsx)(h.wrD,{className:m.icon_filter}),"\u0437\u0430 \u043a\u043e\u043b\u044c\u043e\u0440\u043e\u043c:"]}),(0,v.jsx)("button",{type:"button",className:m.button_sort,onClick:function(){q(!W),Q(!1),T(!1)},children:(0,v.jsx)(g.G_S,{className:m.down_allow})}),(0,v.jsx)("div",{className:W?m.colorMenuActive:m.colorMenu,children:(0,v.jsx)("ul",{className:m.menu_list,children:ue.map((function(e){return(0,v.jsxs)("li",{className:m.item_color,children:[(0,v.jsx)("input",{className:m.radio_button,type:"checkbox",value:e,name:e,id:e,onChange:ve,checked:ne.includes(e)}),(0,v.jsx)("span",{className:m.custom_button}),(0,v.jsx)("label",{htmlFor:e,className:m.subtitle,children:e})]},e)}))})})]}),(0,v.jsxs)("div",{className:m.filters,children:[(0,v.jsxs)("p",{className:m.filter_name,children:[(0,v.jsx)(h.wrD,{className:m.icon_filter}),"\u0437\u0430 \u0444\u0430\u0441\u0443\u0432\u0430\u043d\u043d\u044f\u043c:"]}),(0,v.jsx)("button",{type:"button",className:m.button_sort,onClick:function(){Q(!K),q(!1),T(!1)},children:(0,v.jsx)(g.G_S,{className:m.down_allow})}),(0,v.jsx)("div",{className:K?m.typeMenuActive:m.typeMenu,children:(0,v.jsx)("ul",{className:m.menu_list,children:pe.map((function(e){return(0,v.jsxs)("li",{className:m.item_color,children:[(0,v.jsx)("input",{className:m.radio_button,type:"checkbox",value:e,name:e,id:e,onChange:ye,checked:ie.includes(e)}),(0,v.jsx)("span",{className:m.custom_button}),(0,v.jsx)("label",{htmlFor:e,className:m.subtitle,children:e})]},e)}))})})]}),(0,v.jsx)("button",{type:"button",className:m.button_cancel,onClick:function(){var e=(0,r.Z)(k).sort((function(e,t){return e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")-t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")}));C(e),$("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"),T(!1),ce([]),q(!1),oe([]),Q(!1)},children:"C\u043a\u0438\u043d\u0443\u0442\u0438 \u0432\u0441\u0456 \u0444\u0456\u043b\u044c\u0442\u0440\u0438"})]}),0!==Object.keys(w).length?(0,v.jsx)(d.Z,{productList:w,fetchProduct:function(t){N(t),F(!0),void 0===e.subcategory?D("/catalog/".concat(e.category,"/").concat(e.category,"/").concat(t._id)):D("/catalog/".concat(e.category,"/").concat(e.subcategory,"/").concat(t._id))}}):(0,v.jsx)("p",{})]}),(0,v.jsx)(_.Z,{modalActive:I,setModalActive:F,product:j}),(0,v.jsx)(p.Z,{})]})})})}},9122:function(e,t,n){n.d(t,{Z:function(){return u}});var c=n(1413),r=n(4925),a={subcategory_link:"SubcategoryItem_subcategory_link__alIbD",image_link:"SubcategoryItem_image_link__eXxWs",title:"SubcategoryItem_title__CXZiS",description_container:"SubcategoryItem_description_container__2Bi3Q",action:"SubcategoryItem_action__DciV2"},i=n(3329),o=function(e){var t=e.nameSubcategory,n=e.photoSubcategory,c=e.subcategory,r=e.pickSubcategory,o=e.descriptionSubcategory;return(0,i.jsxs)("li",{onClick:function(e){r(e.currentTarget.id)},className:a.subcategory_link,id:c,children:[(0,i.jsxs)("div",{className:a.action,children:[(0,i.jsx)("img",{className:a.image_link,src:n,alt:t}),(0,i.jsx)("div",{className:a.description_container,children:(0,i.jsx)("p",{className:a.description,children:o})})]}),(0,i.jsx)("div",{className:a.title_container,children:(0,i.jsx)("p",{className:a.title,children:t})})]})},s="SubcategoryList_catalog_list__7colA",l=["_id"],u=function(e){var t=e.subcategories,n=e.fetchSubcategory,a=function(e){n(e)},u=t.map((function(e){var t=e._id,n=(0,r.Z)(e,l);return(0,i.jsx)(o,(0,c.Z)((0,c.Z)({},n),{},{_id:t,pickSubcategory:a}),t)}));return(0,i.jsx)("div",{children:(0,i.jsx)("ul",{className:s,children:u})})}},8681:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var c=n(9439),r=n(9122),a=n(7689),i=n(9434),o=n(2791),s=n(6436),l=n(4930),u=n(9927),d="SubcategoryPage_container__4CiNL",f=n(8383),_=n(5021),p=n(3329),m=function(){var e=(0,a.s0)(),t=(0,a.UO)(),n=(0,i.I0)(),m=(0,i.v9)(s.h),g=(0,o.useState)({}),h=(0,c.Z)(g,2),v=h[0],y=h[1],x=t.category;(0,o.useEffect)((function(){try{n((0,l.kc)(x)).then((function(e){y(e.payload.data.filter((function(e){return!0===e.active})))}))}catch(e){console.log(e)}}),[n,x]);return(0,p.jsx)("div",{children:!0===m?(0,p.jsx)(u.Z,{}):(0,p.jsx)("div",{children:0!==Object.keys(v).length?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:d,children:(0,p.jsx)(r.Z,{subcategories:v,fetchSubcategory:function(t){e("/catalog/".concat(x,"/").concat(t))}})}),(0,p.jsx)(f.Z,{})]}):(0,p.jsx)(_.default,{})})})}},9325:function(e,t,n){n.d(t,{h:function(){return c}});var c=function(e){return e.product.loading}},6436:function(e,t,n){n.d(t,{h:function(){return c}});var c=function(e){return e.subcategory.loading}}}]);
//# sourceMappingURL=149.3a7356c0.chunk.js.map