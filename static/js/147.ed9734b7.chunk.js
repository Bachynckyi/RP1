"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[147],{5366:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(1413),a=r(4925),c="CategoryItem_input__Yr4xT",o="CategoryItem_label__bo4PI",u=r(3329),i=function(e){var t=e.nameCategory,r=e.category,n=e.pickCategory;return(0,u.jsxs)("li",{children:[(0,u.jsx)("input",{className:c,type:"radio",id:r,name:"category",value:r,onChange:function(e){var t=e.target,a=t.value;r=t.id,n(a,r)},required:!0}),(0,u.jsx)("label",{htmlFor:r,className:o,children:t})]})},l=["_id"],s=function(e){var t=e.categories,r=e.fetchCategory,c=function(e,t){r(e,t)},o=t.map((function(e){var t=e._id,r=(0,a.Z)(e,l);return(0,u.jsx)(i,(0,n.Z)((0,n.Z)({},r),{},{_id:t,pickCategory:c}),t)}));return(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:"\u041e\u0431\u0440\u0430\u0442\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e \u0442\u043e\u0432\u0430\u0440\u0443"}),(0,u.jsx)("ol",{children:o})]})}},4147:function(e,t,r){r.r(t),r.d(t,{default:function(){return P}});var n=r(4942),a=r(5861),c=r(1413),o=r(9439),u=r(7757),i=r.n(u),l={container:"AddProductForm_container__ZMqFD",product_form:"AddProductForm_product_form__Mo-TC",label_input:"AddProductForm_label_input__Z0CRD",product_picture:"AddProductForm_product_picture__q+XIz",title_picture:"AddProductForm_title_picture__Mwg4G"},s=r(2791),d=r(4118),p=r(196),A=r(9434),h=r(9869),g=r(220),f=r(5366),m=r(9104),b=r(1831),j=r(4930),x=r(4925),_="Subcategory_input__HVNQg",y="Subcategory_label__CSjpk",v=r(3329),C=function(e){var t=e.nameSubcategory,r=e.subcategory,n=e.pickSubcategory;return(0,v.jsxs)("li",{children:[(0,v.jsx)("input",{className:_,type:"radio",id:r,name:"subcategory",value:r,onChange:function(e){var t=e.target.value;n(t)}}),(0,v.jsx)("label",{htmlFor:r,className:y,children:t})]})},N=["_id"],Z=function(e){var t=e.subCategories,r=e.fetchSubcategory,n=function(e){r(e)},a=t.map((function(e){var t=e._id,r=(0,x.Z)(e,N);return(0,v.jsx)(C,(0,c.Z)((0,c.Z)({},r),{},{_id:t,pickSubcategory:n}),t)}));return(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{children:"\u041e\u0431\u0440\u0430\u0442\u0438 \u043f\u0456\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044e \u0442\u043e\u0432\u0430\u0440\u0443"}),(0,v.jsx)("ol",{children:a})]})},w={title:"",description:"",category:"",price:"",type:"",color:"",photo:"",code:"",subcategory:""},k=function(){var e=(0,A.I0)(),t=(0,A.v9)(h.kE),r=(0,s.useState)((0,c.Z)({},w)),u=(0,o.Z)(r,2),x=u[0],_=u[1],y=x.title,C=x.description,N=x.price,k=x.color,q=x.type,Q=x.photo,B=x.category,P=x.code,S=x.subcategory,D=(0,s.useState)(null),F=(0,o.Z)(D,2),G=F[0],M=F[1],I=(0,s.useState)(null),U=(0,o.Z)(I,2),E=U[0],O=U[1],J=(0,A.v9)(m.h);(0,s.useEffect)((function(){try{e((0,p.tG)()).then((function(e){return M(e.payload.data)})),e((0,j.XU)()).then((function(e){return O(e.payload.data)}))}catch(t){console.log(t)}}),[e]);var V=(0,s.useCallback)((function(e){var t=e.target,r=t.name,a=t.value;_("photo"===r?function(e){return(0,c.Z)((0,c.Z)({},e),{},{photo:t.files[0]})}:"price"===r?function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,n.Z)({},r,a.toLowerCase().split(/,/).join(".")))}:function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,n.Z)({},r,a))})}),[_]);return(0,v.jsx)(v.Fragment,{children:J?(0,v.jsx)(b.Z,{}):(0,v.jsx)("div",{className:l.container,children:(0,v.jsxs)("form",{className:l.product_form,onSubmit:function(r){r.preventDefault();var n=new FormData;n.append("photo",Q),n.append("title",y),n.append("type",q),n.append("color",k),n.append("price",N),n.append("description",C),n.append("category",B),n.append("code",P),null!==S&&n.append("subcategory",S);var c=n,o=function(){var t=(0,a.Z)(i().mark((function t(r){var n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.token,a=r.data;try{e((0,g.gK)({token:n,data:a}))}catch(c){console.log(c)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();o({token:t,data:c}),_(w)},children:[(0,v.jsxs)("div",{children:[Q?(0,v.jsx)("img",{src:URL.createObjectURL(Q),alt:"productPhoto",className:l.product_picture}):(0,v.jsx)("img",{src:d,alt:"defaultPicture",className:l.product_picture}),(0,v.jsx)("p",{className:l.title_picture,children:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0456\u044f \u0442\u043e\u0432\u0430\u0440\u0443"}),(0,v.jsx)("input",{type:"file",name:"photo",required:!0,accept:"image/png, image/jpeg",onChange:V})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("label",{className:l.label_input,children:["\u041d\u0430\u0437\u0432\u0430 \u0442\u043e\u0432\u0430\u0440\u0443",(0,v.jsx)("input",{className:l.input,name:"title",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0442\u043e\u0432\u0430\u0440\u0443",required:!0,value:y,onChange:V})]}),(0,v.jsxs)("label",{children:["\u041e\u043f\u0438\u0441",(0,v.jsx)("textarea",{className:l.label_input,name:"description",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043e\u043f\u0438\u0441",rows:"20",cols:"70",required:!0,value:C,onChange:V})]}),(0,v.jsxs)("label",{className:l.label_input,children:["\u0424\u0430\u0441\u043e\u0432\u043a\u0430",(0,v.jsx)("input",{className:l.input,name:"type",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0444\u0430\u0441\u043e\u0432\u043a\u0443",required:!0,value:q,onChange:V})]}),(0,v.jsxs)("label",{className:l.label_input,children:["\u041a\u043e\u043b\u0456\u0440",(0,v.jsx)("input",{className:l.input,name:"color",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u043b\u0456\u0440",required:!0,value:k,onChange:V})]}),(0,v.jsxs)("label",{className:l.label_input,children:["\u0426\u0456\u043d\u0430",(0,v.jsx)("input",{className:l.input,name:"price",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0446\u0456\u043d\u0443",required:!0,value:N,onChange:V})]}),(0,v.jsxs)("label",{className:l.label_input,children:["\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0443",(0,v.jsx)("input",{className:l.input,name:"code",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0443",required:!0,value:P,onChange:V})]})]}),null!==G&&(0,v.jsx)(f.Z,{categories:G,fetchCategory:function(e){_((function(t){return(0,c.Z)((0,c.Z)({},t),{},{category:e})}))}}),null!==E&&(0,v.jsx)(Z,{subCategories:E,fetchSubcategory:function(e){_((function(t){return(0,c.Z)((0,c.Z)({},t),{},{subcategory:e})}))}}),(0,v.jsx)("button",{type:"submit",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u043e\u0432\u0430\u0440"})]})})})},q=r(9325),Q="AddProductPage_container__IuA4V",B="AddProductPage_title__NkUw-",P=function(){var e=(0,A.v9)(q.h);return(0,v.jsxs)("div",{className:Q,children:[(0,v.jsx)("h1",{className:B,children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u043e\u0432\u0430\u0440"}),e?(0,v.jsx)(b.Z,{}):(0,v.jsx)(k,{})]})}},9104:function(e,t,r){r.d(t,{h:function(){return n}});var n=function(e){return e.category.loading}},9325:function(e,t,r){r.d(t,{h:function(){return n}});var n=function(e){return e.product.loading}},4118:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAADCCAMAAAB6zFdcAAAAYFBMVEXDw8MAAABwcHDHx8eKioqkpKS8vLzGxsatra3KysqQkJCenp6AgIB3d3dra2u3t7dZWVlMTEyysrIsLCxTU1NDQ0OUlJQhISEyMjJlZWUMDAw9PT2Dg4N0dHQYGBhGRkaaAXj3AAACVklEQVR4nO3a63KiQBBAYbATxxYQbxtNdjd5/7dMIFwEGbaA1Fo05/tpNFVzZJgBCQIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAICFEdFJROTRQ5jKxbvVRLF79CCmkW043XbeEeTpBxo8zXs2ZA2i9RSRiQbPUw5l90wDUw2cqIyIYamBHpP9Lho+GEMNNM7P8IfB/8BOg2qbcNaB/8BQg2qt3ww8J5hpkA2kkAwcj50GUdVgN3AymGkQpPW+1zMXfFeHdhror7LBuvt9GsXHzpHaaVAdCC/dw9FddnnYNU0MNXDp4WuUp6j7bCAv3jXDUIPAabo5eia9K46SS9ffDDX44nxbA7kWM2V/f5gYa+CTnwyKVeMuwjIaSL15CMNj+72LaODWt7fNTotsUG8dcq+t2bCEBpq0bqC2dhA2G4ho/cLN1VT3TtJkA00u57R8xQVvdw2ujdlgsYGusnGWEfRwl6B1aWmwQbEQ/v4elf7pSBCGt7cdDTYoF8K/2XftNp0JGqcEew3qhTD7rt27p8FHPRvMNbhZCN/Wge49CcIwqSJYa9BYCD+07yfpxmcsNQgax/6qJ0H4Xn7EWAM99426pfwhwlYDz0LoU1xGm2rgXQh9vu+smWoQXAY2uJhr0LMQ+uR31gw1GPVs1lZMNUj/PeIOqaUGchrV4Cp2GujrqATZZbSVBr274n5bNdJANuOJjQY8ozl6GtRm3sD9yDPb824QuHjqo/ureOYJ8p8TZKJHDwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOB/+wQBph2Iu8J1cQAAAABJRU5ErkJggg=="},4925:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=147.ed9734b7.chunk.js.map