{"version":3,"file":"static/js/297.20f92554.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/AddCategoryForm/AddCategoryForm.module.scss?877a","components/AddCategoryForm/AddCategoryForm.jsx","webpack://react-homework-template/./src/pages/AddCategoryPage/AddCategoryPage.module.scss?a7a1","pages/AddCategoryPage/AddCategoryPage.jsx","redux/category/category-selectors.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"AddCategoryForm_container__E4GSx\",\"product_form\":\"AddCategoryForm_product_form__fnFvE\",\"label_input\":\"AddCategoryForm_label_input__6DX9j\",\"product_picture\":\"AddCategoryForm_product_picture__Y87uL\",\"title_picture\":\"AddCategoryForm_title_picture__fOxGX\"};","import scss from './AddCategoryForm.module.scss';\nimport { useState, useCallback} from 'react';\nimport defaultPicture from '../../images/images.png';\nimport { addCategory } from 'redux/category/category-operations';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userToken } from 'redux/auth/auth-selectors';\n\nconst initialState = {\n    nameCategory: \"\",\n    photoCategory: \"\",\n    category: \"\",\n    descriptionCategory: \"\",\n  };\n\nconst AddCategoryForm = () => {\n    const dispatch = useDispatch();\n    const token = useSelector(userToken);\n    const [Category, setCategory] = useState({...initialState});\n    const { nameCategory, category, descriptionCategory, photoCategory} = Category;\n    \n    const onSubmit = event => {\n        event.preventDefault();\n        const formData = new FormData();\n        formData.append(\"photoCategory\", photoCategory);\n        formData.append(\"nameCategory\", nameCategory);\n        formData.append(\"category\", category);\n        formData.append(\"descriptionCategory\", descriptionCategory);\n        const data = formData;\n        const sendData = async ({token, data}) => {\n            try {\n            dispatch(addCategory({token, data}));\n            } \n            catch (error) {\n              console.log(error)\n            }\n          };\n        sendData({token, data});\n        setCategory(initialState);\n    };\n\n    const handleChangeDetails = useCallback(({ target }) => {\n        const {name, value } = target;\n        if(name === \"photoCategory\"){\n            if(target.files[0] === undefined){\n                setCategory(prevState => {\n                return {...prevState} \n            });\n            }\n            else {\n                setCategory(prevState => {\n                return {...prevState, photoCategory: target.files[0]} \n            });\n            }\n        }\n        else if(name === \"category\"){\n            setCategory(prevState => {\n                return {...prevState, [name]: value.toLowerCase().split(/\\s+/).join('-')};\n            });\n        }\n        else {\n            setCategory(prevState => {\n                return {...prevState, [name]: value};\n            });\n        }\n    },\n      [setCategory]\n    );\n\n    return (\n        <div className={scss.container}>\n            <form className={scss.product_form} onSubmit={onSubmit}>\n                <div>\n                    {photoCategory !== \"\" ? \n                    (<img \n                        src={URL.createObjectURL(photoCategory)} \n                        alt=\"CategoryPhoto\" \n                        className={scss.product_picture}\n                        />)\n                    :\n                    (<img \n                        src={defaultPicture} \n                        alt=\"defaultPicture\"\n                        className={scss.product_picture}\n                        />)}                      \n                    <p className={scss.title_picture}>Фотографія категорії</p>\n                        <input\n                            type='file'\n                            name=\"photoCategory\"\n                            required\n                            accept=\"image/png, image/jpeg\"\n                            onChange={handleChangeDetails}\n                        />\n                </div> \n                <div> \n                    <label className={scss.label_input}>Назва категорії\n                        <input\n                            className={scss.input}\n                            name='nameCategory'\n                            placeholder='Введіть назву категорії'\n                            required\n                            value={nameCategory}\n                            onChange={handleChangeDetails}\n                        />\n                    </label>\n                    <label className={scss.label_input}>Назва категорії англійською мовою\n                        <input\n                            className={scss.input}\n                            name='category'\n                            placeholder='Введіть назву категорії англійською мовою'\n                            required\n                            value={category}\n                            onChange={handleChangeDetails}\n                        />\n                    </label>\n                    <label>Опис категорії\n                            <textarea\n                                className={scss.label_input}\n                                name='descriptionCategory'\n                                placeholder='Введіть опис'\n                                rows=\"20\"\n                                cols=\"70\"\n                                required\n                                value={descriptionCategory}\n                                onChange={handleChangeDetails}\n                            />\n                    </label>\n                </div>\n                <button type='submit'>Додати категорію</button>\n            </form>\n        </div>\n    );\n  };\n  \nexport default AddCategoryForm;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"AddCategoryPage_container__Spa+x\",\"title\":\"AddCategoryPage_title__w8T1o\"};","import AddCategoryForm from \"components/AddCategoryForm/AddCategoryForm\";\nimport { isLoading } from '../../redux/category/category-selectors';\nimport Loader  from '../../components/Loader/Loader';\nimport { useSelector } from 'react-redux';\nimport scss from './AddCategoryPage.module.scss';\n\nconst AddCategory = () => {\n    const loading = useSelector(isLoading);\n    return (\n        <div className={scss.container}>\n            <h1 className={scss.title}>Додати категорію</h1>\n            {loading ? (<Loader/>) : (<AddCategoryForm/>)}\n        </div>\n    );\n};\n  \nexport default AddCategory;","export const isLoading = ({ category }) => category.loading;"],"names":["initialState","nameCategory","photoCategory","category","descriptionCategory","dispatch","useDispatch","token","useSelector","userToken","useState","Category","setCategory","handleChangeDetails","useCallback","target","name","value","undefined","files","prevState","toLowerCase","split","join","className","scss","onSubmit","event","preventDefault","formData","FormData","append","data","sendData","addCategory","error","console","log","src","URL","createObjectURL","alt","defaultPicture","type","required","accept","onChange","placeholder","rows","cols","loading","isLoading","Loader"],"sourceRoot":""}