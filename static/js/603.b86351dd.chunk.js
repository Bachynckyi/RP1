"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[603],{5603:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(9439),i=n(9869),c=n(9434),u=n(2791),o=n(4925),a=n(3329),l=function(e){var t=e.product,n=e.updateOrder,i=e._id,c=t.title,o=t.photo,l=t.price,s=t.type,d=t.color,f=t.code,p=t.quantity,h=(0,u.useState)({}),j=(0,r.Z)(h,2),m=j[0],x=j[1],b=l*m;(0,u.useEffect)((function(){x(p)}),[p]);var g=function(e){if("increment"===e.target.name)x(""===m?"1":String(Number(m)+1));else if("decrement"===e.target.name)m>0&&x(String(Number(m)-1));else if("quantity"===e.target.name){var t=e.target.value.replace(/\D+/g,"");x(0===t?"":String(t))}};return(0,a.jsxs)("li",{children:[(0,a.jsx)("h1",{children:c}),(0,a.jsx)("img",{src:o,alt:c}),(0,a.jsxs)("p",{children:["\u0426\u0456\u043d\u0430: ",l," \u0433\u0440\u043d"]}),(0,a.jsxs)("p",{children:["\u0424\u0430\u0441\u043e\u0432\u043a\u0430: ",s]}),(0,a.jsxs)("p",{children:["\u041a\u043e\u043b\u0456\u0440: ",d]}),(0,a.jsxs)("p",{children:["\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0443: ",f]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{type:"button",onClick:g,name:"decrement",children:"-"}),(0,a.jsx)("input",{value:m,name:"quantity",onChange:g,type:"text"}),(0,a.jsx)("button",{type:"button",onClick:g,name:"increment",children:"+"})]}),(0,a.jsx)("button",{onClick:function(){var e=JSON.parse(localStorage.getItem("order")).filter((function(e){return e._id!==i}));n(e)},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0437 \u043a\u043e\u0448\u0438\u043a\u0430"}),(0,a.jsxs)("p",{children:["\u0421\u0443\u043c\u043c\u0430: ",b," \u0433\u0440\u043d"]})]})},s=["_id"],d=function(e){var t=e.basket,n=e.newOrder,i=(0,u.useState)({}),c=(0,r.Z)(i,2),d=c[0],f=c[1];(0,u.useEffect)((function(){f(t.reduce((function(e,t){return Number(e)+Number(t.price)*t.quantity}),""))}),[t]);var p=function(e){n(e)},h=t.map((function(e){var t=e._id,n=(0,o.Z)(e,s);return(0,a.jsx)(l,{product:n,_id:t,updateOrder:p},t)}));return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"\u0422\u043e\u0432\u0430\u0440\u0438 \u0434\u043e \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),(0,a.jsx)("ol",{children:h}),(0,a.jsxs)("p",{children:["\u0421\u0443\u043c\u0430 \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438: ",JSON.stringify(d)," \u0433\u0440\u043d"]}),(0,a.jsx)("button",{children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})]})},f=function(){var e=(0,c.v9)(i.bg),t=(0,u.useState)({}),n=(0,r.Z)(t,2),o=n[0],l=n[1];(0,u.useEffect)((function(){if(!1===e){var t=JSON.parse(localStorage.getItem("order"));null!==t&&l(t)}}),[]);return(0,a.jsx)("div",{children:0!==Object.keys(o).length?(0,a.jsx)(d,{basket:o,newOrder:function(e){l(e),localStorage.setItem("order",JSON.stringify(e))}}):(0,a.jsx)("p",{children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435\u043c\u0430\u0454 \u0432 \u043a\u043e\u0448\u0438\u043a\u0443"})})}},4925:function(e,t,n){function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=603.b86351dd.chunk.js.map