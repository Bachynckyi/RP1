"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[149,155],{5021:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var r=n(7762),c=n(3433),i=n(9439),a=n(9434),o=n(2791),s=n(9325),u=n(220),l=n(1831),f=n(128),d=n(7689),p=n(5413),_=n(8383),y={product_container:"ProductPage_product_container__A1Dds",filter_container:"ProductPage_filter_container__ypU74",filters:"ProductPage_filters__bktwK",button_sort:"ProductPage_button_sort__HTXBI",filter_name:"ProductPage_filter_name__Dh3Ee",down_allow:"ProductPage_down_allow__xX6Pw",sortByPrice_wrapper:"ProductPage_sortByPrice_wrapper__LTzL+",colorMenuActive:"ProductPage_colorMenuActive__TrEmU",colorMenu:"ProductPage_colorMenu__NZkEG",typeMenuActive:"ProductPage_typeMenuActive__r7E3U",typeMenu:"ProductPage_typeMenu__Mnj0X",button_cancel:"ProductPage_button_cancel__ixPl3"},h=n(7692),g=n(3329),v=function(){var t=(0,d.UO)(),e=(0,a.I0)(),n=(0,a.v9)(s.h),v=t.subcategory,x=(0,o.useState)({}),j=(0,i.Z)(x,2),b=j[0],m=j[1],Z=(0,o.useState)({}),k=(0,i.Z)(Z,2),P=k[0],N=k[1],S=(0,o.useState)({}),O=(0,i.Z)(S,2),w=O[0],C=O[1],M=(0,o.useState)(!1),A=(0,i.Z)(M,2),I=A[0],E=A[1],U=(0,d.s0)(),B=(0,d.UO)(),F=(0,o.useState)(!1),L=(0,i.Z)(F,2),X=L[0],D=L[1],G=(0,o.useState)(!1),T=(0,i.Z)(G,2),z=T[0],H=T[1],K=(0,o.useState)(!1),Q=(0,i.Z)(K,2),V=Q[0],W=Q[1],q=(0,o.useState)("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"),J=(0,i.Z)(q,2),R=J[0],Y=J[1],$=(0,o.useState)([]),tt=(0,i.Z)($,2),et=tt[0],nt=tt[1],rt=(0,o.useState)([]),ct=(0,i.Z)(rt,2),it=ct[0],at=ct[1],ot=(0,o.useState)([]),st=(0,i.Z)(ot,2),ut=st[0],lt=st[1],ft=(0,o.useState)([]),dt=(0,i.Z)(ft,2),pt=dt[0],_t=dt[1];(0,o.useEffect)((function(){if(void 0!==B.id)try{e((0,u.gk)(B.id)).then((function(e){m(e.payload.data[0]),E(!0),U("/catalog/".concat(t.category,"/").concat(t.subcategory,"/").concat(B.id))}))}catch(n){console.log(n)}else if(void 0===v)try{e((0,u.uP)(B.category)).then((function(t){var e=t.payload.data.map((function(t){return t.color})),n=e.filter((function(t,n){return e.indexOf(t)===n}));lt(n);var r=t.payload.data.map((function(t){return t.type})),i=r.filter((function(t,e){return r.indexOf(t)===e}));_t(i);var a=t.payload.data.filter((function(t){return!0===t.active}));N(a);var o=(0,c.Z)(a).sort((function(t,e){return t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")-e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")}));C(o)}))}catch(n){console.log(n)}else try{e((0,u.uP)(v)).then((function(t){var e=t.payload.data.map((function(t){return t.color})),n=e.filter((function(t,n){return e.indexOf(t)===n}));lt(n);var r=t.payload.data.map((function(t){return t.type})),i=r.filter((function(t,e){return r.indexOf(t)===e}));_t(i);var a=t.payload.data.filter((function(t){return!0===t.active}));N(a);var o=(0,c.Z)(a).sort((function(t,e){return t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")-e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")}));C(o)}))}catch(n){console.log(n)}}),[e,v]),(0,o.useEffect)((function(){if(0!==Object.keys(P).length)if(0===et.length&&0===it.length){var t=(0,c.Z)(P).sort((function(t,e){return t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")-e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")}));C(t)}else if(0===et.length&&it.length>0){var e,n=[],i=(0,r.Z)(it);try{var a=function(){var t=e.value,r=P.filter((function(e){return e.type===t}));n.push.apply(n,(0,c.Z)(r))};for(i.s();!(e=i.n()).done;)a()}catch(Z){i.e(Z)}finally{i.f()}if("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"!==R){if("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"===R){var o=[].concat(n).sort((function(t,e){return t.price-e.price}));C(o)}else if("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"===R){var s=[].concat(n).sort((function(t,e){return e.price-t.price}));C(s)}}else C(n)}else if(0===it.length&&et.length>0){var u,l=[],f=(0,r.Z)(et);try{var d=function(){var t=u.value,e=P.filter((function(e){return e.color===t}));l.push.apply(l,(0,c.Z)(e))};for(f.s();!(u=f.n()).done;)d()}catch(Z){f.e(Z)}finally{f.f()}if("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"!==R){if("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"===R){var p=[].concat(l).sort((function(t,e){return t.price-e.price}));C(p)}else if("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"===R){var _=[].concat(l).sort((function(t,e){return e.price-t.price}));C(_)}}else C(l)}else if(it.length>0&&et.length>0){var y,h=[],g=(0,r.Z)(et);try{var v=function(){var t=y.value,e=P.filter((function(e){return e.color===t}));h.push.apply(h,(0,c.Z)(e))};for(g.s();!(y=g.n()).done;)v()}catch(Z){g.e(Z)}finally{g.f()}var x,j=[],b=(0,r.Z)(it);try{var m=function(){var t=x.value,e=h.filter((function(e){return e.type===t}));if(j.push.apply(j,(0,c.Z)(e)),"\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"!==R){if("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"===R){var n=[].concat(j).sort((function(t,e){return t.price-e.price}));C(n)}else if("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"===R){var r=[].concat(j).sort((function(t,e){return e.price-t.price}));C(r)}}else C(j)};for(b.s();!(x=b.n()).done;)m()}catch(Z){b.e(Z)}finally{b.f()}}}),[et,it]);var yt=function(t){var e=t.target.value;if(et.includes(e)){var n=et.filter((function(t){return t!==e}));nt(n)}else 0===et.length?nt([e]):nt([].concat((0,c.Z)(et),[e]))},ht=function(t){var e=t.target.value;if(it.includes(e)){var n=it.filter((function(t){return t!==e}));at(n)}else 0===it.length?at([e]):at([].concat((0,c.Z)(it),[e]))};return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:y.container,children:!0===n?(0,g.jsx)(l.Z,{}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:y.product_container,children:[0!==Object.keys(w).length&&(0,g.jsxs)("div",{className:y.filter_container,children:[(0,g.jsxs)("div",{className:y.filters,children:[(0,g.jsx)("p",{className:y.filter_name,children:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0437\u0430 \u0446\u0456\u043d\u043e\u044e:"}),(0,g.jsxs)("button",{type:"button",onClick:function(){D(!X)},className:y.button_sort,children:[(0,g.jsx)("span",{className:y.defaultName,children:R}),(0,g.jsx)(h.G_S,{className:y.down_allow})]}),X&&(0,g.jsxs)("div",{className:y.sortByPrice_wrapper,children:["\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"!==R&&(0,g.jsx)("button",{type:"button",onClick:function(){var t=(0,c.Z)(w).sort((function(t,e){return t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")-e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")}));C(t),Y("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"),D(!1)},children:"\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"}),"\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"!==R&&(0,g.jsx)("button",{type:"button",onClick:function(){var t=(0,c.Z)(w).sort((function(t,e){return t.price-e.price}));C(t),Y("\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"),D(!1)},children:"\u0412\u0456\u0434 \u0434\u0435\u0448\u0435\u0432\u0438\u0445 \u0434\u043e \u0434\u043e\u0440\u043e\u0433\u0438\u0445"}),"\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"!==R&&(0,g.jsx)("button",{type:"button",onClick:function(){var t=(0,c.Z)(w).sort((function(t,e){return e.price-t.price}));C(t),Y("\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"),D(!1)},children:"\u0412\u0456\u0434 \u0434\u043e\u0440\u043e\u0433\u0438\u0445 \u0434\u043e \u0434\u0435\u0448\u0435\u0432\u0438\u0445"})]})]}),(0,g.jsxs)("div",{className:y.filters,children:[(0,g.jsx)("p",{className:y.filter_name,children:"\u041e\u0431\u0440\u0430\u0442\u0438 \u043a\u043e\u043b\u0456\u0440:"}),(0,g.jsxs)("button",{type:"button",className:y.button_sort,onClick:function(){H(!z)},children:[(0,g.jsx)("span",{children:"\u0412\u0441\u0456 \u043a\u043e\u043b\u044c\u043e\u0440\u0438"}),(0,g.jsx)(h.G_S,{className:y.down_allow})]}),(0,g.jsx)("div",{className:z?y.colorMenuActive:y.colorMenu,children:(0,g.jsx)("ul",{children:ut.map((function(t){return(0,g.jsxs)("li",{children:[(0,g.jsx)("input",{type:"checkbox",value:t,name:t,id:t,onChange:yt,checked:et.includes(t)}),(0,g.jsx)("label",{htmlFor:t,children:t})]},t)}))})})]}),(0,g.jsxs)("div",{className:y.filters,children:[(0,g.jsx)("p",{className:y.filter_name,children:"\u041e\u0431\u0440\u0430\u0442\u0438 \u0444\u0430\u0441\u0443\u0432\u0430\u043d\u043d\u044f:"}),(0,g.jsxs)("button",{type:"button",className:y.button_sort,onClick:function(){W(!V)},children:[(0,g.jsx)("span",{children:"\u0412\u0441\u0456 \u0444\u0430\u0441\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,g.jsx)(h.G_S,{className:y.down_allow})]}),(0,g.jsx)("div",{className:V?y.typeMenuActive:y.typeMenu,children:(0,g.jsx)("ul",{children:pt.map((function(t){return(0,g.jsxs)("li",{children:[(0,g.jsx)("input",{type:"checkbox",value:t,name:t,id:t,onChange:ht,checked:it.includes(t)}),(0,g.jsx)("label",{htmlFor:t,children:t})]},t)}))})})]}),(0,g.jsx)("button",{type:"button",className:y.button_cancel,onClick:function(){var t=(0,c.Z)(P).sort((function(t,e){return t.type.substring(0,t.type.indexOf(" ")).split(/,/).join(".")-e.type.substring(0,e.type.indexOf(" ")).split(/,/).join(".")}));C(t),Y("\u0417\u0430 \u0437\u0430\u043c\u043e\u0432\u0447\u0443\u0432\u0430\u043d\u043d\u044f\u043c"),D(!1),nt([]),H(!1),at([]),W(!1)},children:"C\u043a\u0438\u043d\u0443\u0442\u0438 \u0432\u0441\u0456 \u0444\u0456\u043b\u044c\u0442\u0440\u0430"})]}),0!==Object.keys(w).length?(0,g.jsx)(f.Z,{productList:w,fetchProduct:function(e){m(e),E(!0),void 0===t.subcategory?U("/catalog/".concat(t.category,"/").concat(t.category,"/").concat(e._id)):U("/catalog/".concat(t.category,"/").concat(t.subcategory,"/").concat(e._id))}}):(0,g.jsx)("p",{})]}),(0,g.jsx)(p.Z,{modalActive:I,setModalActive:E,product:b}),(0,g.jsx)(_.Z,{})]})})})}},9122:function(t,e,n){n.d(e,{Z:function(){return l}});var r=n(1413),c=n(4925),i={subcategory_link:"SubcategoryItem_subcategory_link__alIbD",image_link:"SubcategoryItem_image_link__eXxWs",title:"SubcategoryItem_title__CXZiS",description_container:"SubcategoryItem_description_container__2Bi3Q",action:"SubcategoryItem_action__DciV2"},a=n(3329),o=function(t){var e=t.nameSubcategory,n=t.photoSubcategory,r=t.subcategory,c=t.pickSubcategory,o=t.descriptionSubcategory;return(0,a.jsxs)("li",{onClick:function(t){c(t.currentTarget.id)},className:i.subcategory_link,id:r,children:[(0,a.jsxs)("div",{className:i.action,children:[(0,a.jsx)("img",{className:i.image_link,src:n,alt:e}),(0,a.jsx)("div",{className:i.description_container,children:(0,a.jsx)("p",{className:i.description,children:o})})]}),(0,a.jsx)("div",{className:i.title_container,children:(0,a.jsx)("p",{className:i.title,children:e})})]})},s="SubcategoryList_catalog_list__7colA",u=["_id"],l=function(t){var e=t.subcategories,n=t.fetchSubcategory,i=function(t){n(t)},l=e.map((function(t){var e=t._id,n=(0,c.Z)(t,u);return(0,a.jsx)(o,(0,r.Z)((0,r.Z)({},n),{},{_id:e,pickSubcategory:i}),e)}));return(0,a.jsx)("div",{children:(0,a.jsx)("ul",{className:s,children:l})})}},8681:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});var r=n(9439),c=n(9122),i=n(7689),a=n(9434),o=n(2791),s=n(6436),u=n(4930),l=n(1831),f="SubcategoryPage_container__4CiNL",d=n(8383),p=n(5021),_=n(3329),y=function(){var t=(0,i.s0)(),e=(0,i.UO)(),n=(0,a.I0)(),y=(0,a.v9)(s.h),h=(0,o.useState)({}),g=(0,r.Z)(h,2),v=g[0],x=g[1],j=e.category;(0,o.useEffect)((function(){try{n((0,u.kc)(j)).then((function(t){x(t.payload.data.filter((function(t){return!0===t.active})))}))}catch(t){console.log(t)}}),[n,j]);return(0,_.jsx)("div",{children:!0===y?(0,_.jsx)(l.Z,{}):(0,_.jsx)("div",{children:0!==Object.keys(v).length?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:f,children:(0,_.jsx)(c.Z,{subcategories:v,fetchSubcategory:function(e){t("/catalog/".concat(j,"/").concat(e))}})}),(0,_.jsx)(d.Z,{})]}):(0,_.jsx)(p.default,{})})})}},9325:function(t,e,n){n.d(e,{h:function(){return r}});var r=function(t){return t.product.loading}},6436:function(t,e,n){n.d(e,{h:function(){return r}});var r=function(t){return t.subcategory.loading}}}]);
//# sourceMappingURL=149.f4b1aa7f.chunk.js.map