{"version":3,"file":"static/js/992.61f3b608.chunk.js","mappings":"oSACA,GAAgB,kBAAoB,wC,UC8EpC,EAjEoB,WAChB,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAUC,EAAAA,EAAAA,IAAYC,EAAAA,GACtBC,EAAoBP,EAASQ,YACnC,GAA8BC,EAAAA,EAAAA,UAAS,CAAC,GAAxC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAsCF,EAAAA,EAAAA,UAAS,CAAC,GAAhD,eAAOG,EAAP,KAAoBC,EAApB,KACA,GAAsCJ,EAAAA,EAAAA,WAAS,GAA/C,eAAOK,EAAP,KAAoBC,EAApB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAASjB,EAAAA,EAAAA,OAEfkB,EAAAA,EAAAA,YAAU,WACR,QAAiBC,IAAdF,EAAOG,GACR,IACEnB,GAASoB,EAAAA,EAAAA,IAAeJ,EAAOG,KAC9BE,MAAK,SAAAC,GACJb,EAAWa,EAASC,QAAQC,KAAK,IACjCX,GAAe,GACfC,EAAS,YAAD,OAAahB,EAASA,SAAtB,YAAkCA,EAASQ,YAA3C,YAA0DU,EAAOG,IAC1E,GAIF,CAFD,MAAMM,GACJC,QAAQC,IAAIF,EACb,CAED,IACEzB,GAAS4B,EAAAA,EAAAA,IAAqBvB,IAC3BgB,MAAK,SAAAC,GAAQ,OAAIX,EAAeW,EAASC,QAAQC,KAApC,GAIrB,CAFG,MAAMC,GACJC,QAAQC,IAAIF,EACjB,CAEA,GAAE,CAACzB,EAAUK,IAQd,OACE,+BACE,gBAAKwB,UAAWC,EAAAA,UAAhB,UACa,IAAZ5B,GAAmB,SAAC6B,EAAA,EAAD,KAChB,iCACA,SAACC,EAAA,EAAD,KACA,gBAAKH,UAAWC,EAAAA,kBAAhB,SACuC,IAApCG,OAAOC,KAAKxB,GAAayB,QACzB,SAACC,EAAA,EAAD,CAAa1B,YAAaA,EAAa2B,aAd7B,SAAC7B,GACpBC,EAAWD,GACXK,GAAe,GACfC,EAAS,YAAD,OAAahB,EAASA,SAAtB,YAAkCA,EAASQ,YAA3C,YAA0DE,EAAQ8B,KAC3E,KAYU,oBAEH,SAACC,EAAA,EAAD,CACE3B,YAAaA,EACbC,eAAgBA,EAChBL,QAASA,KAEX,SAACgC,EAAA,EAAD,UAKX,C","sources":["webpack://react-homework-template/./src/pages/ProductPage/ProductPage.module.scss?7fa2","pages/ProductPage/ProductPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"product_container\":\"ProductPage_product_container__A1Dds\"};","import { useDispatch, useSelector } from 'react-redux';\nimport { useState, useEffect } from 'react';\nimport { isLoading } from '../../redux/product/product-selectors';\nimport { getProductByCategory } from '../../redux/product/product-operations';\nimport Loader  from '../../components/Loader/Loader';\nimport ProductList from './ProductList/ProductList';\nimport { useParams } from \"react-router-dom\";\nimport Modal from '../../components/Modal/Modal';\nimport Search from 'components/Search/Search';\nimport Footer from 'components/Footer/Footer';\nimport scss from \"./ProductPage.module.scss\";\nimport { useNavigate } from 'react-router-dom';\nimport {getProductById} from '../../redux/product/product-operations';\n\nconst ProductPage = () => {\n    const category = useParams();\n    const dispatch = useDispatch();\n    const loading = useSelector(isLoading);\n    const subcategorySearch = category.subcategory;\n    const [product, setProduct] = useState({});\n    const [productList, setProductList] = useState({});\n    const [modalActive, setModalActive] = useState(false);\n    const navigate = useNavigate();\n    const params = useParams();\n\n    useEffect(() => {\n      if(params.id !== undefined) {\n        try {\n          dispatch(getProductById(params.id))\n          .then(response => {\n            setProduct(response.payload.data[0]);\n            setModalActive(true);\n            navigate(`/catalog/${category.category}/${category.subcategory}/${params.id}`);\n          });\n        }\n        catch(error){\n          console.log(error);\n        }\n      }\n        try {\n          dispatch(getProductByCategory(subcategorySearch))\n            .then(response => setProductList(response.payload.data));\n        }\n        catch(error){\n          console.log(error);\n    };  \n    // eslint-disable-next-line \n    }, [dispatch, subcategorySearch]);\n\n    const fetchProduct = (product) => {\n      setProduct(product);\n      setModalActive(true);\n      navigate(`/catalog/${category.category}/${category.subcategory}/${product._id}`);\n    };\n\n    return (\n      <>\n        <div className={scss.container}>\n        {loading === true? (<Loader/>) :\n          ( <>\n            <Search/>\n            <div className={scss.product_container}>\n              {Object.keys(productList).length !== 0 ?\n              (<ProductList productList={productList} fetchProduct={fetchProduct}/>)\n              : \n              (<p></p>)}\n            </div>  \n            <Modal \n              modalActive={modalActive} \n              setModalActive={setModalActive} \n              product={product} \n            />\n            <Footer/>\n          </>)}\n        </div>\n      </>\n    );\n};\n  \nexport default ProductPage;\n\n\n\n\n\n\n\n\n\n"],"names":["category","useParams","dispatch","useDispatch","loading","useSelector","isLoading","subcategorySearch","subcategory","useState","product","setProduct","productList","setProductList","modalActive","setModalActive","navigate","useNavigate","params","useEffect","undefined","id","getProductById","then","response","payload","data","error","console","log","getProductByCategory","className","scss","Loader","Search","Object","keys","length","ProductList","fetchProduct","_id","Modal","Footer"],"sourceRoot":""}