{"version":3,"file":"static/js/155.f4accb86.chunk.js","mappings":"oSACA,GAAgB,kBAAoB,uCAAuC,iBAAmB,sCAAsC,QAAU,8B,UCkG9I,EAtFoB,WAChB,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAUC,EAAAA,EAAAA,IAAYC,EAAAA,GACtBC,EAAoBP,EAASQ,YACnC,GAA8BC,EAAAA,EAAAA,UAAS,CAAC,GAAxC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAsCF,EAAAA,EAAAA,UAAS,CAAC,GAAhD,eAAOG,EAAP,KAAoBC,EAApB,KACA,GAAsCJ,EAAAA,EAAAA,WAAS,GAA/C,eAAOK,EAAP,KAAoBC,EAApB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,GAASjB,EAAAA,EAAAA,OAEfkB,EAAAA,EAAAA,YAAU,WACR,QAAiBC,IAAdF,EAAOG,GACR,IACEnB,GAASoB,EAAAA,EAAAA,IAAeJ,EAAOG,KAC9BE,MAAK,SAAAC,GACJb,EAAWa,EAASC,QAAQC,KAAK,IACjCX,GAAe,GACfC,EAAS,YAAD,OAAahB,EAASA,SAAtB,YAAkCA,EAASQ,YAA3C,YAA0DU,EAAOG,IAC1E,GAIF,CAFD,MAAMM,GACJC,QAAQC,IAAIF,EACb,CAED,IACEzB,GAAS4B,EAAAA,EAAAA,IAAqBvB,IAC3BgB,MAAK,SAAAC,GACJ,IAAMO,EAAkBP,EAASC,QAAQC,KAAKM,QAAO,SAAAC,GAAI,OAAoB,IAAhBA,EAAKC,MAAT,IACnDC,GAAoB,OAAIJ,GAAiBK,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEE,KAAKC,UAAU,EAAEH,EAAEE,KAAKE,QAAQ,MAAMC,MAAM,KAAKC,KAAK,KAAOL,EAAEC,KAAKC,UAAU,EAAEF,EAAEC,KAAKE,QAAQ,MAAMC,MAAM,KAAKC,KAAK,IAAjI,IACpD9B,EAAesB,EAClB,GAIN,CAFG,MAAMR,GACJC,QAAQC,IAAIF,EACjB,CAEA,GAAE,CAACzB,EAAUK,IAEd,IAMMqC,EAAU,WACf,EAED,OACE,+BACE,gBAAKC,UAAWC,EAAAA,UAAhB,UACa,IAAZ1C,GAAmB,SAAC2C,EAAA,EAAD,KAChB,iCACA,iBAAKF,UAAWC,EAAAA,kBAAhB,WACE,iBAAKD,UAAWC,EAAAA,iBAAhB,WACE,iBAAKD,UAAWC,EAAAA,QAAhB,WACI,uBAAG,yGACH,mBAAQP,KAAK,SAASK,QAASA,EAA/B,SAAwC,oGAE5C,iBAAKC,UAAWC,EAAAA,QAAhB,WACI,uBAAG,0EACH,mBAAQP,KAAK,SAASK,QAASA,EAA/B,SAAwC,oGAE5C,iBAAKC,UAAWC,EAAAA,QAAhB,WACI,uBAAG,kGACH,mBAAQP,KAAK,SAASK,QAASA,EAA/B,SAAwC,oGAE5C,mBAAQL,KAAK,SAASK,QAASA,EAA/B,SAAwC,2GAEL,IAApCI,OAAOC,KAAKrC,GAAasC,QACzB,SAACC,EAAA,EAAD,CAAavC,YAAaA,EAAawC,aA/B7B,SAAC1C,GACpBC,EAAWD,GACXK,GAAe,GACfC,EAAS,YAAD,OAAahB,EAASA,SAAtB,YAAkCA,EAASQ,YAA3C,YAA0DE,EAAQ2C,KAC3E,KA6BU,qBAEH,SAACC,EAAA,EAAD,CACExC,YAAaA,EACbC,eAAgBA,EAChBL,QAASA,KAEX,SAAC6C,EAAA,EAAD,UAKX,C","sources":["webpack://react-homework-template/./src/pages/ProductPage/ProductPage.module.scss?7fa2","pages/ProductPage/ProductPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"product_container\":\"ProductPage_product_container__A1Dds\",\"filter_container\":\"ProductPage_filter_container__ypU74\",\"filters\":\"ProductPage_filters__bktwK\"};","import { useDispatch, useSelector } from 'react-redux';\nimport { useState, useEffect } from 'react';\nimport { isLoading } from '../../redux/product/product-selectors';\nimport { getProductByCategory } from '../../redux/product/product-operations';\nimport Loader  from '../../components/Loader/Loader';\nimport ProductList from './ProductList/ProductList';\nimport { useParams } from \"react-router-dom\";\nimport Modal from '../../components/Modal/Modal';\nimport Footer from 'components/Footer/Footer';\nimport scss from \"./ProductPage.module.scss\";\nimport { useNavigate } from 'react-router-dom';\nimport {getProductById} from '../../redux/product/product-operations';\n\nconst ProductPage = () => {\n    const category = useParams();\n    const dispatch = useDispatch();\n    const loading = useSelector(isLoading);\n    const subcategorySearch = category.subcategory;\n    const [product, setProduct] = useState({});\n    const [productList, setProductList] = useState({});\n    const [modalActive, setModalActive] = useState(false);\n    const navigate = useNavigate();\n    const params = useParams();\n\n    useEffect(() => {\n      if(params.id !== undefined) {\n        try {\n          dispatch(getProductById(params.id))\n          .then(response => {\n            setProduct(response.payload.data[0]);\n            setModalActive(true);\n            navigate(`/catalog/${category.category}/${category.subcategory}/${params.id}`);\n          });\n        }\n        catch(error){\n          console.log(error);\n        }\n      }\n        try {\n          dispatch(getProductByCategory(subcategorySearch))\n            .then(response => {\n              const filterNotActive = response.payload.data.filter(item => item.active === true);\n              const defaultSortByType = [...filterNotActive].sort((a, b) => a.type.substring(0,a.type.indexOf(' ')).split(/,/).join('.') - b.type.substring(0,b.type.indexOf(' ')).split(/,/).join('.'))\n              setProductList(defaultSortByType);\n          })  \n        }\n        catch(error){\n          console.log(error);\n    };  \n    // eslint-disable-next-line \n    }, [dispatch, subcategorySearch]);\n\n    const fetchProduct = (product) => {\n      setProduct(product);\n      setModalActive(true);\n      navigate(`/catalog/${category.category}/${category.subcategory}/${product._id}`);\n    };\n\n    const onClick = () => {\n    };\n\n    return (\n      <>\n        <div className={scss.container}>\n        {loading === true? (<Loader/>) :\n          ( <>\n            <div className={scss.product_container}>\n              <div className={scss.filter_container}>\n                <div className={scss.filters}>\n                    <p>Сортувати за ціною:</p>\n                    <button type='button' onClick={onClick}>За замовчуванням</button>\n                </div>\n                <div className={scss.filters}>\n                    <p>Обрати колір:</p>\n                    <button type='button' onClick={onClick}>За замовчуванням</button>\n                </div>\n                <div className={scss.filters}>\n                    <p>Обрати фасування:</p>\n                    <button type='button' onClick={onClick}>За замовчуванням</button>\n                </div>\n                <button type='button' onClick={onClick}>Cкинути всі фільтра</button>\n              </div>\n              {Object.keys(productList).length !== 0 ?\n              (<ProductList productList={productList} fetchProduct={fetchProduct}/>)\n              : \n              (<p></p>)}\n            </div>  \n            <Modal \n              modalActive={modalActive} \n              setModalActive={setModalActive} \n              product={product} \n            />\n            <Footer/>\n          </>)}\n        </div>\n      </>\n    );\n};\n  \nexport default ProductPage;\n\n\n\n\n\n\n\n\n\n"],"names":["category","useParams","dispatch","useDispatch","loading","useSelector","isLoading","subcategorySearch","subcategory","useState","product","setProduct","productList","setProductList","modalActive","setModalActive","navigate","useNavigate","params","useEffect","undefined","id","getProductById","then","response","payload","data","error","console","log","getProductByCategory","filterNotActive","filter","item","active","defaultSortByType","sort","a","b","type","substring","indexOf","split","join","onClick","className","scss","Loader","Object","keys","length","ProductList","fetchProduct","_id","Modal","Footer"],"sourceRoot":""}